{"version":3,"sources":["core/containers/Root.js","core/history.js","modules/Profile/Profile.js","modules/functions.js","modules/Profile/index.js","modules/Admin/components/ToolbarSearch.js","modules/Admin/withTitle.js","modules/Admin/Request/List.js","modules/Admin/Request/Form.js","modules/Admin/Request/index.js","modules/Admin/Request/Router.js","modules/Admin/Dashboard/Dashboard.js","modules/Admin/Dashboard/index.js","modules/Admin/Product/List.js","modules/Admin/Category/List.js","modules/Admin/Category/Form.js","modules/Admin/Category/index.js","modules/Admin/Category/Router.js","modules/Admin/Product/Form.js","modules/Admin/Product/index.js","modules/Admin/Product/Router.js","modules/Admin/Layout.js","modules/Admin/Login.js","modules/Admin/withAuth.js","modules/Admin/theme/palette.js","modules/Admin/theme/typography.js","modules/Admin/theme/overrides/MuiTableCell.js","modules/Admin/theme/overrides/index.js","modules/Admin/theme/overrides/MuiButton.js","modules/Admin/theme/overrides/MuiIconButton.js","modules/Admin/theme/overrides/MuiPaper.js","modules/Admin/theme/overrides/MuiTableHead.js","modules/Admin/theme/overrides/MuiTypography.js","modules/Admin/theme/index.js","modules/Admin/Admin.js","modules/Admin/index.js","store.js","modules/index.js","core/components/Home.js","routes.js","core/components/App.js","serviceWorker.js","index.js"],"names":["Root","props","console","log","store","getState","history","routes","map","route","index","key","path","render","component","title","createBrowserHistory","listen","location","Profile","this","name","match","React","Component","ProfileContainer","connect","state","defineModule","reducer","children","onEnter","flatModules","modules","Object","keys","x","res","Array","isArray","forEach","y","MODULE","reduce","c","n","concat","action","type","useStyles","makeStyles","theme","root","borderRadius","alignItems","padding","spacing","display","flexBasis","icon","marginRight","color","palette","text","secondary","input","flexGrow","fontSize","lineHeight","letterSpacing","SearchInput","className","onChange","style","rest","classes","Paper","clsx","Input","disableUnderline","withTitle","dispatch","setTitle","SET_TITLE","payload","seeMore","marginTop","container","paddingTop","paddingBottom","paper","overflow","flexDirection","cardContent","loader","margin","addButton","height","float","DeleteConfirmationDialog","onClose","open","deleteId","other","Dialog","disableBackdropClick","disableEscapeKeyDown","maxWidth","aria-labelledby","DialogContent","dividers","DialogActions","Button","autoFocus","onClick","e","RequestsTableCard","header","CardHeader","useState","rowsPerPage","setRowsPerPage","page","setPage","Container","Grid","item","xs","placeholder","to","variant","Card","CardContent","CardActions","actions","TablePagination","count","requests","length","onChangePage","event","onChangeRowsPerPage","target","value","rowsPerPageOptions","RequestsTable","showDeleteDialog","loading","selectedItems","setSelectedItems","CircularProgress","requestRows","r","i","TableRow","TableCell","Checkbox","checked","indexOf","_id","id","selectedIndex","newSelectedItems","slice","handleSelectOne","email","address","message","align","Fab","size","aria-label","Table","TableHead","indeterminate","items","TableBody","List","loadRequests","loadingRequests","closeDeleteDialog","deleteDialogOpen","Fragment","keepMounted","ListContainer","Admin","Request","LOAD_REQUESTS_REQ","fetch","then","ok","json","LOAD_REQUESTS_RES","SHOW_DELETE_DIALOG","CLOSE_DELETE_DIALOG","b","method","body","JSON","stringify","headers","result","DELETE_RES","request","data","textField","width","themesSelect","button","FormCard","update","themes","saving","redirect","setRedirect","onSubmit","inputs","elements","params","requestId","preventDefault","sm","TextField","label","defaultValue","required","multiline","rows","disabled","Form","loadRequest","setState","loadingRequest","LinearProgress","s","LOAD_REQUEST_REQ","LOAD_REQUEST_RES","SAVE_REQ","SAVE_RES","actionPrefix","defaultState","push","filter","exact","Dashboard","fixedHeight","employees","category","price","loadItems","shouldLoadItems","loadingItems","Product","LOAD_ITEMS_REQ","LOAD_ITEMS_RES","textAlign","Category","itemId","loadItem","loadingItem","LOAD_ITEM_REQ","LOAD_ITEM_RES","categories","options","SelectMenu","option","setOption","inputLabel","useRef","labelWidth","setLabelWidth","useEffect","current","offsetWidth","menuItems","th","MenuItem","FormControl","InputLabel","ref","Select","labelId","loadCategories","LOAD_CATEGORIES_REQ","LOAD_CATEGORIES_RES","Copyright","Typography","Date","getFullYear","toolbar","paddingRight","toolbarIcon","justifyContent","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","menuButtonHidden","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","MainListItems","accessRights","menuItem","accessRightTitle","Icon","ListItem","ListItemIcon","link","ListItemText","primary","LayoutContainer","rights","user","logOut","LOG_OUT","setOpen","CssBaseline","AppBar","Toolbar","IconButton","edge","noWrap","Badge","badgeContent","goBack","Drawer","Divider","Link","href","backgroundColor","common","white","avatar","main","form","submit","Login","changeHandler","submitHandler","signIn","password","loggedIn","redirectUrl","window","localStorage","getItem","failed","loginFailed","Box","mt","LoginForm","Avatar","error","fullWidth","autoComplete","FormControlLabel","control","LoginContainer","username","SIGN_IN_REQ","SIGN_IN_RES","withAuth","ComponentToProtect","protectedModule","ProtectedComponent","hasAccessRight","getActiveUser","setItem","pathname","black","contrastText","dark","colors","indigo","light","blue","success","green","info","warning","orange","red","blueGrey","background","default","divider","grey","h1","fontWeight","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","overline","textTransform","MuiButton","contained","boxShadow","MuiIconButton","MuiPaper","elevation1","MuiTableCell","typography","borderBottom","MuiTableHead","MuiTypography","gutterBottom","marginBottom","createMuiTheme","overrides","layout","Layout","ThemeProvider","DashboardIcon","AssignmentIcon","defaultUserState","authenticating","userReducer","p","a","dashboardReducer","requestReducer","productReducer","categoryReducer","createAppStore","combineReducers","reducers","flat","Error","combineModuleReducers","createStore","applyMiddleware","createLogger","Home","getRoutes","App","routeParams","cm","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b0e940c0.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Provider} from 'react-redux';\r\nimport {Router, Route} from 'react-router-dom';\r\n\r\nconst Root=(props)=>{\r\n\tconsole.log('Roots',props);\r\n\tconsole.log('state',props.store.getState());\r\n\treturn(\r\n\t\t<Provider store={props.store}>\r\n\t\t\t<Router history={props.history}>\r\n\t\t\t\t{props.routes.map((route,index) => (\r\n\t\t            <Route key={index} path={route.path} render={(props) => {\r\n\t\t            \treturn(\r\n\t\t              \t\t<route.component {...props} routes={route.routes} title={route.title} />\r\n\t\t              \t);\r\n\t\t            }} />\r\n\t\t        ))}\r\n\t\t\t</Router>\r\n\t\t</Provider>\r\n\t);\r\n}\r\n\r\nRoot.propTypes={\r\n\thistory:PropTypes.object.isRequired,\r\n\troutes:PropTypes.array.isRequired,\r\n\tstore:PropTypes.object.isRequired\r\n}\r\n\r\nexport default Root;","import {createBrowserHistory} from 'history';\r\n\r\nconst history=createBrowserHistory();\r\n\r\nhistory.listen((location)=>{\r\n\tconsole.log('history is listening: '+location);\r\n\t// do some stuff\r\n});\r\n\r\nexport default history;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route} from 'react-router-dom';\r\n\r\nclass Profile extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Profile',this.props);\r\n\t\tconst {name,match}=this.props;\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<h2>, {name}</h2>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst Vachach=props=>(<p>Vachaaach</p>);\r\n\r\nProfile.propTypes={\r\n\tname:PropTypes.string.isRequired\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\treturn state.Profile;\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {}\r\n}\r\n\r\nconst ProfileContainer=connect(mapStateToProps)(Profile);\r\n\r\nexport default ProfileContainer;","export const defineModule=(\r\n\ttitle,\r\n\tpath,\r\n\tcomponent,\r\n\treducer=(state={})=>state,\r\n\tchildren=null,\r\n\tonEnter=null,\r\n)=>{\r\n\treturn {title,path,component,reducer,onEnter,children}\r\n}\r\n\r\nexport const flatModules = modules => Object.keys(modules).map(x => {\r\n    const res = Array.isArray(modules[x]) ? modules[x] : [modules[x]];\r\n    res.forEach(y => y.MODULE = x)\r\n    return res\r\n}).reduce((c,n) => c.concat(n));","import Profile from './Profile';\r\nimport {defineModule} from '../functions';\r\n\r\nconst SET_NAME='Profile/SetName';\r\n\r\nconst reducer=(state={name:''}, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase SET_NAME:\r\n\t\t\treturn {name:action.name}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default defineModule(' ','/profile', Profile,reducer);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { Paper, Input } from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    borderRadius: '4px',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(1),\r\n    display: 'flex',\r\n    flexBasis: 420\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(1),\r\n    color: theme.palette.text.secondary\r\n  },\r\n  input: {\r\n    flexGrow: 1,\r\n    fontSize: '14px',\r\n    lineHeight: '16px',\r\n    letterSpacing: '-0.05px'\r\n  }\r\n}));\r\n\r\nconst SearchInput = props => {\r\n  const { className, onChange, style, ...rest } = props;\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Paper\r\n      {...rest}\r\n      className={clsx(classes.root, className)}\r\n      style={style}\r\n    >\r\n      <SearchIcon className={classes.icon} />\r\n      <Input\r\n        {...rest}\r\n        className={classes.input}\r\n        disableUnderline\r\n        onChange={onChange}\r\n      />\r\n    </Paper>\r\n  );\r\n};\r\n\r\nSearchInput.propTypes = {\r\n  className: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n  style: PropTypes.object\r\n};\r\n\r\nexport default SearchInput;\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {SET_TITLE} from './index';\r\n\r\nconst withTitle=(Component)=>(title)=>{\r\n\tconst ComponentWithTitle=(props)=>{\r\n\t\tprops.setTitle(title);\r\n\r\n\t\treturn(\r\n\t\t\t<Component />\r\n\t\t);\r\n\t}\r\n\r\n\tconst mapDispatchToProps=dispatch=>({\r\n\t\tsetTitle:(title)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SET_TITLE,\r\n\t\t\t\tpayload:title\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\treturn connect(null, mapDispatchToProps)(ComponentWithTitle);\r\n}\r\n\r\nexport default withTitle;","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {\r\n\tCard,\r\n\tCardActions,\r\n\tCardContent,\r\n\tCardHeader,\r\n\tTablePagination,\r\n\tCheckbox\r\n} from '@material-ui/core';\r\n\r\nimport Title from '../components/Title';\r\nimport SearchBar from '../components/ToolbarSearch';\r\nimport {LOAD_REQUESTS_REQ, LOAD_REQUESTS_RES, SHOW_DELETE_DIALOG, CLOSE_DELETE_DIALOG, DELETE_RES} from './index';\r\nimport withTitle from '../withTitle';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column'\r\n  },\r\n  cardContent:{\r\n  \tpadding:0\r\n  },\r\n  loader:{\r\n  \tmargin:'auto'\r\n  },\r\n  addButton:{\r\n  \theight:'100%',\r\n  \tfloat:'right'\r\n  }\r\n}));\r\n\r\nfunction DeleteConfirmationDialog(props) {\r\n  const { onClose,  open, deleteId, ...other} = props;\r\n\r\n  \treturn (\r\n\t    <Dialog\r\n\t      \tdisableBackdropClick\r\n\t      \tdisableEscapeKeyDown\r\n\t      \tmaxWidth=\"xs\"\r\n\t     \taria-labelledby=\"confirmation-dialog-title\"\r\n\t      \topen={open}\r\n\t      \t{...other}\r\n\t    >\r\n\t      \t<DialogContent dividers>\r\n\t      \t\tAre you sure to delete this item? You will not be able to recover this\r\n\t      \t</DialogContent>\r\n\t      \t<DialogActions>\r\n\t        \t<Button autoFocus onClick={(e)=>onClose('cancel')} color=\"primary\">\r\n\t          \t\tCancel\r\n\t        \t</Button>\r\n\t        \t<Button onClick={(e)=>onClose('ok',deleteId)} color=\"primary\">\r\n\t          \t\tOk\r\n\t        \t</Button>\r\n\t      \t</DialogActions>\r\n\t    </Dialog>\r\n  \t);\r\n}\r\n\r\nconst RequestsTableCard=(props)=>{\r\n  \tconst classes = useStyles();\r\n\r\n  \tvar header=props.header?(\r\n  \t\t<CardHeader title={props.header} >\r\n  \t\t</CardHeader>\r\n  \t) : '';\r\n\r\n  \tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n  \tconst [page, setPage] = useState(0);\r\n\r\n  \tconst handlePageChange = (event, page) => {\r\n  \t  setPage(page);\r\n  \t};\r\n\r\n  \tconst handleRowsPerPageChange = event => {\r\n  \t  setRowsPerPage(event.target.value);\r\n  \t};\r\n\r\n  \treturn(\r\n\t    <Container maxWidth=\"lg\" className={classes.container}>\r\n\t      \t<Grid container spacing={3}>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<SearchBar placeholder={\"search employee\"}/>\r\n\t      \t\t</Grid>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<Link to={props.path+'/add'}>\r\n\t\t      \t\t\t<Button\r\n\t\t      \t\t\t\tclassName={classes.addButton}\r\n\t\t      \t\t\t  \tcolor={\"primary\"}\r\n\t\t      \t\t\t  \tvariant=\"contained\"\r\n\t\t      \t\t\t>\r\n\t\t      \t\t\t  \tAdd employee\r\n\t\t      \t\t\t</Button>\r\n\t\t      \t\t</Link>\r\n\t      \t\t</Grid>\r\n\t        \t<Grid item xs={12}>\r\n\t          \t\t<Card className={classes.paper}>\r\n\t          \t\t\t<CardContent className={classes.cardContent} >\r\n\t          \t\t\t\t{header}\r\n\t\t\t\t\t    \t<RequestsTable {...props} />\r\n\t\t\t\t\t    </CardContent>\r\n\t\t\t\t\t    <CardActions className={classes.actions}>\r\n\t\t\t\t\t      \t<TablePagination\r\n\t\t\t\t\t\t        component=\"div\"\r\n\t\t\t\t\t\t        count={props.requests ? props.requests.length : 0}\r\n\t\t\t\t\t\t        onChangePage={handlePageChange}\r\n\t\t\t\t\t\t        onChangeRowsPerPage={handleRowsPerPageChange}\r\n\t\t\t\t\t\t        page={page}\r\n\t\t\t\t\t\t        rowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t        rowsPerPageOptions={[5, 10, 25]}\r\n\t\t\t\t\t      \t/>\r\n\t\t\t\t\t    </CardActions>\r\n\t           \t\t</Card>\r\n\t         \t</Grid>\r\n\t       \t</Grid>\r\n\t    </Container>\r\n  \t);\r\n}\r\nRequestsTableCard.propTypes={\r\n\trequests:PropTypes.array,\r\n\tloading:PropTypes.bool,\r\n\tshowDeleteDialog:PropTypes.func,\r\n\theader:PropTypes.string\r\n}\r\n\r\nconst RequestsTable=({requests, showDeleteDialog, path, loading})=>{\r\n\tconst classes = useStyles();\r\n\tconst [selectedItems, setSelectedItems] = useState([]);\r\n\r\n\tconst handleSelectOne = (event, id) => {\r\n  \t  \tconst selectedIndex = selectedItems.indexOf(id);\r\n  \t  \tlet newSelectedItems = [];\r\n\r\n  \t  \tif (selectedIndex === -1) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(selectedItems, id);\r\n  \t  \t} else if (selectedIndex === 0) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(selectedItems.slice(1));\r\n  \t  \t} else if (selectedIndex === selectedItems.length - 1) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(selectedItems.slice(0, -1));\r\n  \t  \t} else if (selectedIndex > 0) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(\r\n\t  \t      \tselectedItems.slice(0, selectedIndex),\r\n\t  \t      \tselectedItems.slice(selectedIndex + 1)\r\n  \t    \t);\r\n  \t\t}\r\n\r\n  \t  \tsetSelectedItems(newSelectedItems);\r\n  \t};\r\n\r\n  \tconst handleSelectAll = event => {\r\n  \t\tvar items=requests;\r\n  \t  \tlet selectedItems;\r\n  \t  \tif (event.target.checked) {\r\n  \t    \tselectedItems = items.map(i => i._id);\r\n  \t  \t} else {\r\n  \t    \tselectedItems = [];\r\n  \t  \t}\r\n  \t  \tsetSelectedItems(selectedItems);\r\n  \t};\r\n\r\n\tif(!requests || loading){\r\n\t\treturn(<CircularProgress className={classes.loader} />);\r\n\t}else{\r\n\t\tconst requestRows=requests.map((r,i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t  checked={selectedItems.indexOf(r._id) !== -1}\r\n\t\t\t\t\t\t  color={\"primary\"}\r\n\t\t\t\t\t\t  onChange={event => handleSelectOne(event, r._id)}\r\n\t\t\t\t\t\t  value={\"true\"}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t  \t<TableCell>{r.name}</TableCell>\r\n\t\t\t\t  \t<TableCell>{r.email}</TableCell>\r\n\t\t\t\t  \t<TableCell>{r.address}</TableCell>\r\n\t\t\t\t  \t<TableCell>{r.message}</TableCell>\r\n\t\t\t\t  \t<TableCell align=\"right\">\r\n\t\t\t\t  \t\t<Link to={path+'/edit/'+r._id}>\r\n\t\t\t\t  \t\t\t<Fab color='secondary' size='small' aria-label='Edit'>\r\n\t\t\t\t  \t\t\t\t<EditIcon />\r\n\t\t\t\t  \t\t\t</Fab>\r\n\t\t\t\t  \t\t</Link>\r\n\t\t\t\t  \t\t<Fab size='small' aria-label='Delete' className='ml-2' onClick={(e)=>showDeleteDialog(r._id)}>\r\n\t\t\t\t  \t\t\t<DeleteIcon />\r\n\t\t\t\t  \t\t</Fab>\r\n\t\t\t\t  \t</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn(\r\n\t\t\t<Table size=\"small\">\r\n\t\t\t    <TableHead>\r\n\t\t\t      <TableRow>\r\n\t\t\t      \t<TableCell>\r\n\t\t\t      \t  \t<Checkbox\r\n\t\t\t\t      \t    checked={selectedItems.length === requests.length}\r\n\t\t\t\t      \t    color={\"primary\"}\r\n\t\t\t\t      \t    indeterminate={\r\n\t\t\t\t      \t      selectedItems.length > 0 &&\r\n\t\t\t\t      \t      selectedItems.length < requests.length\r\n\t\t\t\t      \t    }\r\n\t\t\t\t      \t    onChange={handleSelectAll}\r\n\t\t\t      \t  \t/>\r\n\t\t\t      \t</TableCell>\r\n\t\t\t        <TableCell>Name</TableCell>\r\n\t\t\t        <TableCell>Email</TableCell>\r\n\t\t\t        <TableCell>Address</TableCell>\r\n\t\t\t        <TableCell>Description</TableCell>\r\n\t\t\t        <TableCell align=\"right\">Action</TableCell>\r\n\t\t\t      </TableRow>\r\n\t\t\t    </TableHead>\r\n\t\t\t    <TableBody>\r\n\t\t\t      {requestRows}\r\n\t\t\t    </TableBody>\r\n\t\t\t</Table>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {requests, loadRequests}=this.props;\r\n\t\tif(!(requests && requests.length)){\r\n\t\t\tloadRequests();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Request List',this.props);\r\n\t\tconst {match, requests, loadingRequests, showDeleteDialog, closeDeleteDialog, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<RequestsTableCard requests={requests} loading={loadingRequests} path={match ? match.path : '/admin/employees'} showDeleteDialog={showDeleteDialog} header={header} />\r\n\t\t\t\t<DeleteConfirmationDialog\r\n\t\t\t\t  \tid=\"ringtone-menu\"\r\n\t\t\t\t  \tdeleteId={deleteId}\r\n\t\t\t\t  \tkeepMounted\r\n\t\t\t\t  \topen={deleteDialogOpen}\r\n\t\t\t\t  \tonClose={closeDeleteDialog}\r\n\t\t\t\t/>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Request\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadRequests:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_REQUESTS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/request/get').then((res)=>res.ok?res.json():[]).then((requests)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_REQUESTS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\trequests\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tshowDeleteDialog:(deleteId)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SHOW_DELETE_DIALOG,\r\n\t\t\t\tpayload:{deleteId}\r\n\t\t\t});\r\n\t\t},\r\n\t\tcloseDeleteDialog:(action, deleteId)=>{\r\n\t\t\tdispatch({type:CLOSE_DELETE_DIALOG});\r\n\t\t\tconsole.log('close',action);\r\n\t\t\tif(action==='ok' && deleteId){\r\n\t\t\t\tvar b={\r\n\t\t\t\t\tid:deleteId\r\n\t\t\t\t}\r\n\t\t\t\treturn fetch('/api/request/delete',{\r\n\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t        'Accept': 'application/json',\r\n\t\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t\t    }\r\n\t\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\t\tpayload:{request:json.data}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default withTitle(ListContainer)('Employees');","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link, Redirect} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport {\r\n\tButton,\r\n\tLinearProgress,\r\n\tCircularProgress\r\n} from '@material-ui/core';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\n\r\nimport Title from '../components/Title';\r\nimport {LOAD_REQUEST_REQ, LOAD_REQUEST_RES, SAVE_REQ, SAVE_RES} from './index';\r\nimport {SET_TITLE} from '../index';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  \tcontainer: {\r\n    \tpaddingTop: theme.spacing(4),\r\n    \tpaddingBottom: theme.spacing(4),\r\n  \t},\r\n  \tpaper: {\r\n\t    padding: theme.spacing(2),\r\n\t    display: 'flex',\r\n\t    overflow: 'auto',\r\n\t    flexDirection: 'column',\r\n  \t},\r\n  \ttextField: {\r\n      \twidth: '100%'\r\n    },\r\n    themesSelect:{\r\n    \twidth:'100%'\r\n    },\r\n    button:{\r\n    \tfloat:'right'\r\n    }\r\n}));\r\n\r\nexport function FormCard({request, match, themes, update, action, saving}) {\r\n  \tconst classes = useStyles();\r\n  \tconst [redirect, setRedirect]=React.useState('');\r\n\r\n  \tconst submitHandler=e=>{\r\n  \t\tvar inputs=e.target.elements;\r\n  \t\tvar data={\r\n  \t\t\tname:inputs.name.value,\r\n  \t\t\temail:inputs.email.value,\r\n  \t\t\taddress:inputs.address.value,\r\n  \t\t\tmessage:inputs.message.value\r\n  \t\t}\r\n  \t\tif(action==='edit'){\r\n  \t\t\tdata.id=match.params.requestId;\t\r\n  \t\t}\r\n\r\n  \t\tupdate(data).then((json)=>{\r\n  \t\t\tif(json.result==='success'){\r\n  \t\t\t\tsetRedirect('/admin/request');\r\n  \t\t\t}\r\n  \t\t});\r\n  \t\t\r\n  \t\te.preventDefault();\r\n  \t}\r\n\r\n  \tif(redirect){\r\n  \t\tconsole.log('redirecting',redirect);\r\n  \t\treturn(\r\n  \t\t\t<Redirect to={redirect} />\r\n  \t\t);\r\n  \t}\r\n\r\n  \treturn (\r\n\t    <Container maxWidth=\"lg\" className={classes.container}>\r\n\t      \t<Grid container spacing={3}>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<Link to={'/admin/employees'}><Button variant='contained' color='primary'><ChevronLeft /> Back to list</Button></Link>\r\n\t      \t\t</Grid>\r\n\t        \t<Grid item xs={12}>\r\n\t          \t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t    <form onSubmit={submitHandler}>\r\n\t\t\t\t\t    \t<Grid container spacing={3} >\r\n\t\t\t\t\t\t    \t<Grid item sm={6}>\r\n\t\t\t\t\t\t\t    \t<TextField\r\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\r\n\t\t\t\t\t    \t          \tclassName={classes.textField}\r\n\t\t\t\t\t    \t          \tlabel={\"Name\"}\r\n\t\t\t\t\t    \t         \tmargin=\"normal\"\r\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\r\n\t\t\t\t\t    \t          \tname='name'\r\n\t\t\t\t\t    \t          \tdefaultValue={request.name}\r\n\t\t\t\t\t    \t          \trequired\r\n\t\t\t\t\t    \t        />\r\n\t\t\t\t\t    \t    </Grid>\r\n\t\t\t\t\t    \t    <Grid item sm={6}>\r\n\t    \t        \t\t    \t<TextField\r\n\t    \t            \t          \tid=\"outlined-basic\"\r\n\t    \t            \t          \tclassName={classes.textField}\r\n\t    \t            \t          \tlabel={\"Email\"}\r\n\t    \t            \t         \tmargin={\"normal\"}\r\n\t    \t            \t          \tvariant={\"outlined\"}\r\n\t    \t            \t          \tname={'email'}\r\n\t    \t            \t          \tdefaultValue={request.email}\r\n\t    \t            \t        />\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t    \t            \t    \t<TextField\r\n\t    \t            \t          \tid=\"outlined-basic\"\r\n\t    \t            \t          \tclassName={classes.textField}\r\n\t    \t            \t          \tlabel={\"Address\"}\r\n\t    \t            \t         \tmargin={\"normal\"}\r\n\t    \t            \t          \tvariant={\"outlined\"}\r\n\t    \t            \t          \tname={'address'}\r\n\t    \t            \t          \tdefaultValue={request.address}\r\n\t    \t            \t        />\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t    \t            \t    \t<TextField\r\n\t    \t            \t    \t    id=\"outlined-multiline-static\"\r\n\t    \t            \t    \t    label=\"Description\"\r\n\t    \t            \t    \t    multiline\r\n\t    \t            \t    \t    rows=\"4\"\r\n\t    \t            \t    \t    defaultValue={request.message}\r\n\t    \t            \t    \t    className={classes.textField}\r\n\t    \t            \t    \t    margin={\"normal\"}\r\n\t    \t            \t    \t    variant={\"outlined\"}\r\n\t    \t            \t    \t    name='message'\r\n\t    \t            \t    \t/>\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t\t    \t            \t    <Button type='submit' variant=\"contained\" color=\"primary\" className={classes.button} disabled={saving}>\r\n\t\t    \t            \t        {saving ? <CircularProgress size={'1rem'} /> : 'Save'}\r\n\t\t    \t            \t    </Button>\r\n\t\t    \t            \t</Grid>\r\n\t    \t            \t</Grid>\r\n\t\t\t\t    \t</form>\r\n\t           \t\t</Paper>\r\n\t         \t</Grid>\r\n\t       \t</Grid>\r\n\t    </Container>\r\n  \t);\r\n}\r\n\r\nconst ThemesSelectMenu=props=>{\r\n\tconst [theme, setTheme] = React.useState(props.theme);\r\n\tconst classes = useStyles();\r\n\tconst inputLabel = React.useRef(null);\r\n\tconst [labelWidth, setLabelWidth] = React.useState(0);\r\n\r\n\tReact.useEffect(() => {\r\n\t    setLabelWidth(inputLabel.current.offsetWidth);\r\n\t}, []);\r\n\r\n\tconst handleChange = event => {\r\n\t   \tsetTheme(event.target.value);\r\n\t};\r\n\r\n\tconst menuItems=props.themes.map((th,i)=>{\r\n\t\treturn(\r\n\t\t\t<MenuItem value={th.name}>{th.name}</MenuItem>\r\n\t\t)\r\n\t});\r\n\r\n\treturn(\r\n    \t<FormControl variant=\"outlined\" className={classes.themesSelect}>\r\n    \t    <InputLabel ref={inputLabel} id={\"demo-simple-select-outlined-label\"}>\r\n    \t        Theme\r\n    \t    </InputLabel>\r\n    \t    <Select\r\n\t          \tlabelId=\"demo-simple-select-outlined-label\"\r\n\t          \tid=\"demo-simple-select-outlined\"\r\n\t          \tname={'theme'} \r\n\t          \tvalue={theme}\r\n\t          \tonChange={handleChange}\r\n\t          \tlabelWidth={labelWidth}\r\n    \t    >\r\n    \t        {menuItems}\r\n    \t    </Select>\r\n    \t</FormControl>\r\n\t)\r\n}\r\n\r\nclass Form extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\taction:''\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {loadRequest, match, setTitle}=this.props;\r\n\t\tif(match.params.requestId){\r\n\t\t\tthis.setState({action:'edit'});\r\n\t\t\tsetTitle('Edit employee');\r\n\t\t\tloadRequest(match.params.requestId);\r\n\t\t}else{\r\n\t\t\tthis.setState({action:'add'});\r\n\t\t\tsetTitle('Add employee');\r\n\t\t}\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Edit Request',this.props);\r\n\t\tconst {match, request, themes, update, loadingRequest, saving}=this.props;\r\n\t\tconst {action}=this.state;\r\n\t\tif(!loadingRequest){\r\n\t\t\treturn(\r\n\t\t\t\t<FormCard action={action} request={action=='edit'?request:{}} match={match} themes={themes} update={update} saving={saving}/>\r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t\t\t\t<LinearProgress />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Request\r\n\treturn {\r\n\t\trequests:s.requests,\r\n\t\trequest:s.request,\r\n\t\tloadingRequest:s.loadingRequest,\r\n\t\tsaving:s.saving\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadRequest:(requestId)=>{\r\n\t\t\tdispatch({type:LOAD_REQUEST_REQ});\r\n\t\t\treturn fetch('/api/request/get?id='+requestId).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_REQUEST_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\trequest:json\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetTitle:(title)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SET_TITLE,\r\n\t\t\t\tpayload:title\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdate:(data)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SAVE_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/request/store',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(data),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SAVE_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\trequest:json.data,\r\n\t\t\t\t\t\tresult:json.result\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn json;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Form);\r\n\r\nexport default ListContainer;","// ******        This module is being used as Employee  ******\r\n\r\nimport Router from './Router';\r\nimport {defineModule} from '../../functions';\r\n\r\nconst actionPrefix='Admin/Request/';\r\nexport const LOAD_REQUESTS_REQ=actionPrefix+'LoadRequestsReq';\r\nexport const LOAD_REQUESTS_RES=actionPrefix+'LoadRequestsRes';\r\nexport const LOAD_REQUEST_REQ=actionPrefix+'LoadRequestReq';\r\nexport const LOAD_REQUEST_RES=actionPrefix+'LoadRequestRes';\r\nexport const SAVE_REQ=actionPrefix+'SaveReq';\r\nexport const SAVE_RES=actionPrefix+'SaveRes';\r\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\r\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\r\nexport const DELETE_RES=actionPrefix+'DeleteRes';\r\n\r\nconst defaultState={\r\n\trequests:[],\r\n\tloadingRequests:false,\r\n\trequest:{},\r\n\tloadingRequest:false,\r\n\tdeleteDialogOpen:false,\r\n\tdeleteId:'',\r\n\tsaving:false\r\n}\r\n\r\nexport const reducer=(state=defaultState, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase LOAD_REQUEST_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingRequest:true\r\n\t\t\t}\r\n\t\tcase LOAD_REQUEST_RES:\r\n\t\t\tvar request=action.payload.request;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trequest,\r\n\t\t\t\tloadingRequest:false\r\n\t\t\t}\r\n\t\tcase LOAD_REQUESTS_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingRequests:true\r\n\t\t\t}\r\n\t\tcase LOAD_REQUESTS_RES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingRequests:false,\r\n\t\t\t\trequests:action.payload.requests\r\n\t\t\t}\r\n\t\tcase SAVE_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsaving:true\r\n\t\t\t}\r\n\t\tcase SAVE_RES:\r\n\t\t\tvar request=action.payload.request;\r\n\t\t\tvar match=false;\r\n\t\t\tvar requests=state.requests.map((r,i)=>{\r\n\t\t\t\tif(r && r._id === request._id){\r\n\t\t\t\t\tmatch=true;\r\n\t\t\t\t\treturn request;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn r;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(!match){\r\n\t\t\t\trequests.push(request);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trequests,\r\n\t\t\t\tsaving:false\r\n\t\t\t}\r\n\t\tcase SHOW_DELETE_DIALOG:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteDialogOpen:true,\r\n\t\t\t\tdeleteId:action.payload.deleteId\r\n\t\t\t}\r\n\t\tcase CLOSE_DELETE_DIALOG:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteDialogOpen:false\r\n\t\t\t}\r\n\t\tcase DELETE_RES:\r\n\t\t\tvar request=action.payload.request;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trequests:state.requests.filter((r)=>r._id !== request._id)\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default defineModule('Employees','/employees', Router, reducer);","import React from 'react';\r\nimport {Route} from 'react-router-dom';\r\n\r\nimport List from './List';\r\nimport Form from './Form';\r\n\r\nconst Router=(props)=>{\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<Route exact path={props.match.path} component={List} />\r\n\t\t\t<Route exact path={props.match.path+'/edit/:requestId'} component={Form} />\r\n\t\t\t<Route exact path={props.match.path+'/add'} component={Form} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Router;","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Link from '@material-ui/core/Link';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\n\r\nimport {ListContainer as EmployeesList} from '../Request/List';\r\nimport {SET_TITLE} from '../index';\r\nimport withTitle from '../withTitle';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  }\r\n}));\r\n\r\nfunction Dashboard(props) {\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  console.log('Dashboard',props);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <EmployeesList employees={props.employees} header=\"Employees\" />\r\n      <Container maxWidth=\"lg\" className={classes.container}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Paper className={classes.paper}>\r\n              Some Dashboard Content\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\treturn {\r\n    ...state.Dashboard\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n  }\r\n}\r\n\r\nconst DashboardContainer=connect(\r\n  mapStateToProps, \r\n  mapDispatchToProps\r\n)(Dashboard);\r\n\r\nexport default withTitle(DashboardContainer)('Dashboard');","import Dashboard from './Dashboard';\r\nimport {defineModule} from '../../functions';\r\n\r\nconst FIRST_ACTION='Dashboard/FirstAction';\r\n\r\nexport const reducer=(state={name:'DEFAULT'}, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase FIRST_ACTION:\r\n\t\t\treturn {name:'Javlonbek'}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default defineModule('Dashboard','/', Dashboard, reducer);","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {\r\n\tCard,\r\n\tCardActions,\r\n\tCardContent,\r\n\tCardHeader,\r\n\tTablePagination,\r\n\tCheckbox\r\n} from '@material-ui/core';\r\n\r\nimport Title from '../components/Title';\r\nimport SearchBar from '../components/ToolbarSearch';\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES, SHOW_DELETE_DIALOG, CLOSE_DELETE_DIALOG, DELETE_RES} from './index';\r\nimport withTitle from '../withTitle';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column'\r\n  },\r\n  cardContent:{\r\n  \tpadding:0\r\n  },\r\n  loader:{\r\n  \tmargin:'auto'\r\n  },\r\n  addButton:{\r\n  \theight:'100%',\r\n  \tfloat:'right'\r\n  }\r\n}));\r\n\r\nfunction DeleteConfirmationDialog(props) {\r\n  const { onClose,  open, deleteId, ...other} = props;\r\n  \treturn (\r\n\t    <Dialog\r\n\t      \tdisableBackdropClick\r\n\t      \tdisableEscapeKeyDown\r\n\t      \tmaxWidth=\"xs\"\r\n\t     \taria-labelledby=\"confirmation-dialog-title\"\r\n\t      \topen={open}\r\n\t      \t{...other}\r\n\t    >\r\n\t      \t<DialogContent dividers>\r\n\t      \t\tAre you sure to delete this item? You will not be able to recover this\r\n\t      \t</DialogContent>\r\n\t      \t<DialogActions>\r\n\t        \t<Button autoFocus onClick={(e)=>onClose('cancel')} color=\"primary\">\r\n\t          \t\tCancel\r\n\t        \t</Button>\r\n\t        \t<Button onClick={(e)=>onClose('ok',deleteId)} color=\"primary\">\r\n\t          \t\tOk\r\n\t        \t</Button>\r\n\t      \t</DialogActions>\r\n\t    </Dialog>\r\n  \t);\r\n}\r\n\r\nconst RequestsTableCard=(props)=>{\r\n  \tconst classes = useStyles();\r\n\r\n  \tvar header=props.header?(\r\n  \t\t<CardHeader title={props.header} >\r\n  \t\t</CardHeader>\r\n  \t) : '';\r\n\r\n  \tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n  \tconst [page, setPage] = useState(0);\r\n\r\n  \tconst handlePageChange = (event, page) => {\r\n  \t  setPage(page);\r\n  \t};\r\n\r\n  \tconst handleRowsPerPageChange = event => {\r\n  \t  setRowsPerPage(event.target.value);\r\n  \t};\r\n\r\n  \treturn(\r\n\t    <Container maxWidth=\"lg\" className={classes.container}>\r\n\t      \t<Grid container spacing={3}>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<SearchBar placeholder={\"search product\"}/>\r\n\t      \t\t</Grid>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<Link to={props.path+'/add'}>\r\n\t\t      \t\t\t<Button\r\n\t\t      \t\t\t\tclassName={classes.addButton}\r\n\t\t      \t\t\t  \tcolor={\"primary\"}\r\n\t\t      \t\t\t  \tvariant=\"contained\"\r\n\t\t      \t\t\t>\r\n\t\t      \t\t\t  \tAdd product\r\n\t\t      \t\t\t</Button>\r\n\t\t      \t\t</Link>\r\n\t      \t\t</Grid>\r\n\t        \t<Grid item xs={12}>\r\n\t          \t\t<Card className={classes.paper}>\r\n\t          \t\t\t<CardContent className={classes.cardContent}>\r\n\t          \t\t\t\t{header}\r\n\t\t\t\t\t    \t<RequestsTable {...props} />\r\n\t\t\t\t\t    </CardContent>\r\n\t\t\t\t\t    <CardActions className={classes.actions}>\r\n\t\t\t\t\t      \t<TablePagination\r\n\t\t\t\t\t\t        component=\"div\"\r\n\t\t\t\t\t\t        count={props.items ? props.items.length : 0}\r\n\t\t\t\t\t\t        onChangePage={handlePageChange}\r\n\t\t\t\t\t\t        onChangeRowsPerPage={handleRowsPerPageChange}\r\n\t\t\t\t\t\t        page={page}\r\n\t\t\t\t\t\t        rowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t        rowsPerPageOptions={[5, 10, 25]}\r\n\t\t\t\t\t      \t/>\r\n\t\t\t\t\t    </CardActions>\r\n\t           \t\t</Card>\r\n\t         \t</Grid>\r\n\t       \t</Grid>\r\n\t    </Container>\r\n  \t);\r\n}\r\nRequestsTableCard.propTypes={\r\n\trequests:PropTypes.array,\r\n\tloading:PropTypes.bool,\r\n\tshowDeleteDialog:PropTypes.func,\r\n\theader:PropTypes.string\r\n}\r\n\r\nconst RequestsTable=({items, showDeleteDialog, path, loading})=>{\r\n\tconst classes = useStyles();\r\n\tconst [selectedItems, setSelectedItems] = useState([]);\r\n\r\n\tconst handleSelectOne = (event, id) => {\r\n  \t  \tconst selectedIndex = selectedItems.indexOf(id);\r\n  \t  \tlet newSelectedItems = [];\r\n\r\n  \t  \tif (selectedIndex === -1) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(selectedItems, id);\r\n  \t  \t} else if (selectedIndex === 0) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(selectedItems.slice(1));\r\n  \t  \t} else if (selectedIndex === selectedItems.length - 1) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(selectedItems.slice(0, -1));\r\n  \t  \t} else if (selectedIndex > 0) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(\r\n\t  \t      \tselectedItems.slice(0, selectedIndex),\r\n\t  \t      \tselectedItems.slice(selectedIndex + 1)\r\n  \t    \t);\r\n  \t\t}\r\n\r\n  \t  \tsetSelectedItems(newSelectedItems);\r\n  \t};\r\n\r\n  \tconst handleSelectAll = event => {\r\n  \t  \tlet selectedItems;\r\n  \t  \tif (event.target.checked) {\r\n  \t    \tselectedItems = items.map(i => i._id);\r\n  \t  \t} else {\r\n  \t    \tselectedItems = [];\r\n  \t  \t}\r\n  \t  \tsetSelectedItems(selectedItems);\r\n  \t};\r\n\r\n\tif(!items || loading){\r\n\t\treturn(<CircularProgress className={classes.loader} />);\r\n\t}else{\r\n\t\tconst requestRows=items.map((r,i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t  checked={selectedItems.indexOf(r._id) !== -1}\r\n\t\t\t\t\t\t  color={\"primary\"}\r\n\t\t\t\t\t\t  onChange={event => handleSelectOne(event, r._id)}\r\n\t\t\t\t\t\t  value={\"true\"}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t  \t<TableCell>{r.name}</TableCell>\r\n\t\t\t\t  \t<TableCell>{r.category.name}</TableCell>\r\n\t\t\t\t  \t<TableCell>{r.price}</TableCell>\r\n\t\t\t\t  \t<TableCell align=\"right\">\r\n\t\t\t\t  \t\t<Link to={path+'/edit/'+r._id}>\r\n\t\t\t\t  \t\t\t<Fab color='secondary' size='small' aria-label='Edit'>\r\n\t\t\t\t  \t\t\t\t<EditIcon />\r\n\t\t\t\t  \t\t\t</Fab>\r\n\t\t\t\t  \t\t</Link>\r\n\t\t\t\t  \t\t<Fab size='small' aria-label='Delete' className='ml-2' onClick={(e)=>showDeleteDialog(r._id)}>\r\n\t\t\t\t  \t\t\t<DeleteIcon />\r\n\t\t\t\t  \t\t</Fab>\r\n\t\t\t\t  \t</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn(\r\n\t\t\t<Table size=\"small\">\r\n\t\t\t    <TableHead>\r\n\t\t\t      <TableRow>\r\n\t\t\t      \t<TableCell>\r\n\t\t\t      \t  \t<Checkbox\r\n\t\t\t\t      \t    checked={selectedItems.length === items.length}\r\n\t\t\t\t      \t    color={\"primary\"}\r\n\t\t\t\t      \t    indeterminate={\r\n\t\t\t\t      \t      selectedItems.length > 0 &&\r\n\t\t\t\t      \t      selectedItems.length < items.length\r\n\t\t\t\t      \t    }\r\n\t\t\t\t      \t    onChange={handleSelectAll}\r\n\t\t\t      \t  \t/>\r\n\t\t\t      \t</TableCell>\r\n\t\t\t        <TableCell>Name</TableCell>\r\n\t\t\t        <TableCell>Category</TableCell>\r\n\t\t\t        <TableCell>Price</TableCell>\r\n\t\t\t        <TableCell align=\"right\">Action</TableCell>\r\n\t\t\t      </TableRow>\r\n\t\t\t    </TableHead>\r\n\t\t\t    <TableBody>\r\n\t\t\t      {requestRows}\r\n\t\t\t    </TableBody>\r\n\t\t\t</Table>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems, shouldLoadItems}=this.props;\r\n\t\tif(shouldLoadItems){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Request List',this.props);\r\n\t\tconst {match, items, loadingItems, showDeleteDialog, closeDeleteDialog, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<RequestsTableCard items={items} loading={loadingItems} path={match ? match.path : '/admin/products'} showDeleteDialog={showDeleteDialog} header={header} />\r\n\t\t\t\t<DeleteConfirmationDialog\r\n\t\t\t\t  \tid=\"ringtone-menu\"\r\n\t\t\t\t  \tdeleteId={deleteId}\r\n\t\t\t\t  \tkeepMounted\r\n\t\t\t\t  \topen={deleteDialogOpen}\r\n\t\t\t\t  \tonClose={closeDeleteDialog}\r\n\t\t\t\t/>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Product;\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/product/get').then((res)=>res.ok?res.json():[]).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tshowDeleteDialog:(deleteId)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SHOW_DELETE_DIALOG,\r\n\t\t\t\tpayload:{deleteId}\r\n\t\t\t});\r\n\t\t},\r\n\t\tcloseDeleteDialog:(action, deleteId)=>{\r\n\t\t\tdispatch({type:CLOSE_DELETE_DIALOG});\r\n\t\t\tconsole.log('close',action);\r\n\t\t\tif(action==='ok' && deleteId){\r\n\t\t\t\tvar b={\r\n\t\t\t\t\tid:deleteId\r\n\t\t\t\t}\r\n\t\t\t\treturn fetch('/api/product/delete',{\r\n\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t        'Accept': 'application/json',\r\n\t\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t\t    }\r\n\t\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\t\tpayload:{item:json.data}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default withTitle(ListContainer)('Products');","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {\r\n\tCard,\r\n\tCardActions,\r\n\tCardContent,\r\n\tCardHeader,\r\n\tTablePagination,\r\n\tCheckbox\r\n} from '@material-ui/core';\r\n\r\nimport Title from '../components/Title';\r\nimport SearchBar from '../components/ToolbarSearch';\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES, SHOW_DELETE_DIALOG, CLOSE_DELETE_DIALOG, DELETE_RES} from './index';\r\nimport withTitle from '../withTitle';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column'\r\n  },\r\n  cardContent:{\r\n  \tpadding:0,\r\n  \ttextAlign:'center'\r\n  },\r\n  loader:{\r\n  \tmargin:'auto'\r\n  },\r\n  addButton:{\r\n  \theight:'100%',\r\n  \tfloat:'right'\r\n  }\r\n}));\r\n\r\nfunction DeleteConfirmationDialog(props) {\r\n  const { onClose,  open, deleteId, ...other} = props;\r\n\r\n  \treturn (\r\n\t    <Dialog\r\n\t      \tdisableBackdropClick\r\n\t      \tdisableEscapeKeyDown\r\n\t      \tmaxWidth=\"xs\"\r\n\t     \taria-labelledby=\"confirmation-dialog-title\"\r\n\t      \topen={open}\r\n\t      \t{...other}\r\n\t    >\r\n\t      \t<DialogContent dividers>\r\n\t      \t\tAre you sure to delete this item? You will not be able to recover this\r\n\t      \t</DialogContent>\r\n\t      \t<DialogActions>\r\n\t        \t<Button autoFocus onClick={(e)=>onClose('cancel')} color={\"primary\"}>\r\n\t          \t\tCancel\r\n\t        \t</Button>\r\n\t        \t<Button onClick={(e)=>onClose('ok',deleteId)} color={\"primary\"}>\r\n\t          \t\tOk\r\n\t        \t</Button>\r\n\t      \t</DialogActions>\r\n\t    </Dialog>\r\n  \t);\r\n}\r\n\r\nconst RequestsTableCard=(props)=>{\r\n  \tconst classes = useStyles();\r\n\r\n  \tvar header=props.header?(\r\n  \t\t<CardHeader title={props.header} >\r\n  \t\t</CardHeader>\r\n  \t) : '';\r\n\r\n  \tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n  \tconst [page, setPage] = useState(0);\r\n\r\n  \tconst handlePageChange = (event, page) => {\r\n  \t  setPage(page);\r\n  \t};\r\n\r\n  \tconst handleRowsPerPageChange = event => {\r\n  \t  setRowsPerPage(event.target.value);\r\n  \t};\r\n\r\n  \treturn(\r\n\t    <Container maxWidth=\"lg\" className={classes.container}>\r\n\t      \t<Grid container spacing={3}>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<SearchBar placeholder={\"search category\"}/>\r\n\t      \t\t</Grid>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<Link to={props.path+'/add'}>\r\n\t\t      \t\t\t<Button\r\n\t\t      \t\t\t\tclassName={classes.addButton}\r\n\t\t      \t\t\t  \tcolor={\"primary\"}\r\n\t\t      \t\t\t  \tvariant=\"contained\"\r\n\t\t      \t\t\t>\r\n\t\t      \t\t\t  \tAdd Category\r\n\t\t      \t\t\t</Button>\r\n\t\t      \t\t</Link>\r\n\t      \t\t</Grid>\r\n\t        \t<Grid item xs={12}>\r\n\t          \t\t<Card className={classes.paper}>\r\n\t          \t\t\t<CardContent className={classes.cardContent}>\r\n\t          \t\t\t\t{header}\r\n\t\t\t\t\t    \t<RequestsTable {...props} />\r\n\t\t\t\t\t    </CardContent>\r\n\t\t\t\t\t    <CardActions className={classes.actions}>\r\n\t\t\t\t\t      \t<TablePagination\r\n\t\t\t\t\t\t        component=\"div\"\r\n\t\t\t\t\t\t        count={props.items ? props.items.length : 0}\r\n\t\t\t\t\t\t        onChangePage={handlePageChange}\r\n\t\t\t\t\t\t        onChangeRowsPerPage={handleRowsPerPageChange}\r\n\t\t\t\t\t\t        page={page}\r\n\t\t\t\t\t\t        rowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t        rowsPerPageOptions={[5, 10, 25]}\r\n\t\t\t\t\t      \t/>\r\n\t\t\t\t\t    </CardActions>\r\n\t           \t\t</Card>\r\n\t         \t</Grid>\r\n\t       \t</Grid>\r\n\t    </Container>\r\n  \t);\r\n}\r\nRequestsTableCard.propTypes={\r\n\trequests:PropTypes.array,\r\n\tloading:PropTypes.bool,\r\n\tshowDeleteDialog:PropTypes.func,\r\n\theader:PropTypes.string\r\n}\r\n\r\nconst RequestsTable=({items, showDeleteDialog, path, loading})=>{\r\n\tconst classes = useStyles();\r\n\tconst [selectedItems, setSelectedItems] = useState([]);\r\n\r\n\tconst handleSelectOne = (event, id) => {\r\n  \t  \tconst selectedIndex = selectedItems.indexOf(id);\r\n  \t  \tlet newSelectedItems = [];\r\n\r\n  \t  \tif (selectedIndex === -1) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(selectedItems, id);\r\n  \t  \t} else if (selectedIndex === 0) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(selectedItems.slice(1));\r\n  \t  \t} else if (selectedIndex === selectedItems.length - 1) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(selectedItems.slice(0, -1));\r\n  \t  \t} else if (selectedIndex > 0) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(\r\n\t  \t      \tselectedItems.slice(0, selectedIndex),\r\n\t  \t      \tselectedItems.slice(selectedIndex + 1)\r\n  \t    \t);\r\n  \t\t}\r\n\r\n  \t  \tsetSelectedItems(newSelectedItems);\r\n  \t};\r\n\r\n  \tconst handleSelectAll = event => {\r\n  \t  \tlet selectedItems;\r\n  \t  \tif (event.target.checked) {\r\n  \t    \tselectedItems = items.map(i => i._id);\r\n  \t  \t} else {\r\n  \t    \tselectedItems = [];\r\n  \t  \t}\r\n  \t  \tsetSelectedItems(selectedItems);\r\n  \t};\r\n\r\n\tif(!items || loading){\r\n\t\treturn(<CircularProgress className={classes.loader} />);\r\n\t}else{\r\n\t\tconst rows=items.map((r,i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t  checked={selectedItems.indexOf(r._id) !== -1}\r\n\t\t\t\t\t\t  color={\"primary\"}\r\n\t\t\t\t\t\t  onChange={event => handleSelectOne(event, r._id)}\r\n\t\t\t\t\t\t  value={\"true\"}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t  \t<TableCell>{r.name}</TableCell>\r\n\t\t\t\t  \t<TableCell align=\"right\">\r\n\t\t\t\t  \t\t<Link to={path+'/edit/'+r._id}>\r\n\t\t\t\t  \t\t\t<Fab color='secondary' size='small' aria-label='Edit'>\r\n\t\t\t\t  \t\t\t\t<EditIcon />\r\n\t\t\t\t  \t\t\t</Fab>\r\n\t\t\t\t  \t\t</Link>\r\n\t\t\t\t  \t\t<Fab size='small' aria-label='Delete' className='ml-2' onClick={(e)=>showDeleteDialog(r._id)}>\r\n\t\t\t\t  \t\t\t<DeleteIcon />\r\n\t\t\t\t  \t\t</Fab>\r\n\t\t\t\t  \t</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn(\r\n\t\t\t<Table size=\"small\">\r\n\t\t\t    <TableHead>\r\n\t\t\t      <TableRow>\r\n\t\t\t      \t<TableCell>\r\n\t\t\t      \t  \t<Checkbox\r\n\t\t\t\t      \t    checked={selectedItems.length === items.length}\r\n\t\t\t\t      \t    color={\"primary\"}\r\n\t\t\t\t      \t    indeterminate={\r\n\t\t\t\t      \t      selectedItems.length > 0 &&\r\n\t\t\t\t      \t      selectedItems.length < items.length\r\n\t\t\t\t      \t    }\r\n\t\t\t\t      \t    onChange={handleSelectAll}\r\n\t\t\t      \t  \t/>\r\n\t\t\t      \t</TableCell>\r\n\t\t\t        <TableCell>Name</TableCell>\r\n\t\t\t        <TableCell align=\"right\">Action</TableCell>\r\n\t\t\t      </TableRow>\r\n\t\t\t    </TableHead>\r\n\t\t\t    <TableBody>\r\n\t\t\t      {rows}\r\n\t\t\t    </TableBody>\r\n\t\t\t</Table>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems}=this.props;\r\n\t\tif(!(items && items.length)){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Category List',this.props);\r\n\t\tconst {match, items, loadingItems, showDeleteDialog, closeDeleteDialog, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<RequestsTableCard items={items} loading={loadingItems} path={match ? match.path : '/admin/categories'} showDeleteDialog={showDeleteDialog} header={header} />\r\n\t\t\t\t<DeleteConfirmationDialog\r\n\t\t\t\t  \tid=\"ringtone-menu\"\r\n\t\t\t\t  \tdeleteId={deleteId}\r\n\t\t\t\t  \tkeepMounted\r\n\t\t\t\t  \topen={deleteDialogOpen}\r\n\t\t\t\t  \tonClose={closeDeleteDialog}\r\n\t\t\t\t/>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Category\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/category/get').then((res)=>res.ok?res.json():[]).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tshowDeleteDialog:(deleteId)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SHOW_DELETE_DIALOG,\r\n\t\t\t\tpayload:{deleteId}\r\n\t\t\t});\r\n\t\t},\r\n\t\tcloseDeleteDialog:(action, deleteId)=>{\r\n\t\t\tdispatch({type:CLOSE_DELETE_DIALOG});\r\n\t\t\tconsole.log('close',action);\r\n\t\t\tif(action==='ok' && deleteId){\r\n\t\t\t\tvar b={\r\n\t\t\t\t\tid:deleteId\r\n\t\t\t\t}\r\n\t\t\t\treturn fetch('/api/category/delete',{\r\n\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t        'Accept': 'application/json',\r\n\t\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t\t    }\r\n\t\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\t\tpayload:{item:json.data}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default withTitle(ListContainer)('Categories');","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link, Redirect} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport {\r\n\tButton,\r\n\tLinearProgress,\r\n\tCircularProgress\r\n} from '@material-ui/core';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\n\r\nimport Title from '../components/Title';\r\nimport {LOAD_ITEM_REQ, LOAD_ITEM_RES, SAVE_REQ, SAVE_RES} from './index';\r\nimport {SET_TITLE} from '../index';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  \tcontainer: {\r\n    \tpaddingTop: theme.spacing(4),\r\n    \tpaddingBottom: theme.spacing(4),\r\n  \t},\r\n  \tpaper: {\r\n\t    padding: theme.spacing(2),\r\n\t    display: 'flex',\r\n\t    overflow: 'auto',\r\n\t    flexDirection: 'column',\r\n  \t},\r\n  \ttextField: {\r\n      \twidth: '100%'\r\n    },\r\n    themesSelect:{\r\n    \twidth:'100%'\r\n    },\r\n    button:{\r\n    \tfloat:'right'\r\n    }\r\n}));\r\n\r\nexport function FormCard({item, match, themes, update, action, saving}) {\r\n  \tconst classes = useStyles();\r\n  \tconst [redirect, setRedirect]=React.useState('');\r\n\r\n  \tconst submitHandler=e=>{\r\n  \t\tvar inputs=e.target.elements;\r\n  \t\tvar data={\r\n  \t\t\tname:inputs.name.value\r\n  \t\t}\r\n  \t\tif(action==='edit'){\r\n  \t\t\tdata.id=match.params.itemId;\t\r\n  \t\t}\r\n\r\n  \t\tupdate(data).then((json)=>{\r\n  \t\t\tif(json.result==='success'){\r\n  \t\t\t\tsetRedirect('/admin/categories');\r\n  \t\t\t}\r\n  \t\t});\r\n  \t\t\r\n  \t\te.preventDefault();\r\n  \t}\r\n\r\n  \tif(redirect){\r\n  \t\tconsole.log('redirecting',redirect);\r\n  \t\treturn(\r\n  \t\t\t<Redirect to={redirect} />\r\n  \t\t);\r\n  \t}\r\n\r\n  \treturn (\r\n\t    <Container maxWidth=\"lg\" className={classes.container}>\r\n\t      \t<Grid container spacing={3}>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<Link to={'/admin/categories'}><Button variant='contained' color='primary'><ChevronLeft /> Back to list</Button></Link>\r\n\t      \t\t</Grid>\r\n\t        \t<Grid item xs={12}>\r\n\t          \t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t    <form onSubmit={submitHandler}>\r\n\t\t\t\t\t    \t<Grid container spacing={3} >\r\n\t\t\t\t\t\t    \t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t    \t<TextField\r\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\r\n\t\t\t\t\t    \t          \tclassName={classes.textField}\r\n\t\t\t\t\t    \t          \tlabel={\"Category name\"}\r\n\t\t\t\t\t    \t         \tmargin=\"normal\"\r\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\r\n\t\t\t\t\t    \t          \tname='name'\r\n\t\t\t\t\t    \t          \tdefaultValue={item.name}\r\n\t\t\t\t\t    \t          \trequired\r\n\t\t\t\t\t    \t        />\r\n\t\t\t\t\t    \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t\t    \t            \t    <Button type='submit' variant=\"contained\" color=\"primary\" className={classes.button} disabled={saving}>\r\n\t\t    \t            \t        {saving ? <CircularProgress size={'1rem'} /> : 'Save'}\r\n\t\t    \t            \t    </Button>\r\n\t\t    \t            \t</Grid>\r\n\t    \t            \t</Grid>\r\n\t\t\t\t    \t</form>\r\n\t           \t\t</Paper>\r\n\t         \t</Grid>\r\n\t       \t</Grid>\r\n\t    </Container>\r\n  \t);\r\n}\r\n\r\nclass Form extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\taction:''\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {loadItem, match, setTitle}=this.props;\r\n\t\tif(match.params.itemId){\r\n\t\t\tthis.setState({action:'edit'});\r\n\t\t\tsetTitle('Edit category');\r\n\t\t\tloadItem(match.params.itemId);\r\n\t\t}else{\r\n\t\t\tthis.setState({action:'add'});\r\n\t\t\tsetTitle('Add category');\r\n\t\t}\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Edit Request',this.props);\r\n\t\tconst {match, item, themes, update, loadingItem, saving}=this.props;\r\n\t\tconst {action}=this.state;\r\n\t\tif(!loadingItem){\r\n\t\t\treturn(\r\n\t\t\t\t<FormCard action={action} item={action=='edit'?item:{}} match={match} themes={themes} update={update} saving={saving}/>\r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t\t\t\t<LinearProgress />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Category\r\n\treturn {\r\n\t\titems:s.items,\r\n\t\titem:s.item,\r\n\t\tloadingItem:s.loadingItem,\r\n\t\tsaving:s.saving\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItem:(itemId)=>{\r\n\t\t\tdispatch({type:LOAD_ITEM_REQ});\r\n\t\t\treturn fetch('/api/category/get?id='+itemId).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEM_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem:json\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetTitle:(title)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SET_TITLE,\r\n\t\t\t\tpayload:title\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdate:(data)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SAVE_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/category/store',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(data),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SAVE_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem:json.data,\r\n\t\t\t\t\t\tresult:json.result\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn json;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Form);\r\n\r\nexport default ListContainer;","import Router from './Router';\r\nimport {defineModule} from '../../functions';\r\n\r\nconst actionPrefix='Admin/Category/';\r\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\r\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\r\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\r\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\r\nexport const SAVE_REQ=actionPrefix+'SaveReq';\r\nexport const SAVE_RES=actionPrefix+'SaveRes';\r\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\r\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\r\nexport const DELETE_RES=actionPrefix+'DeleteRes';\r\n\r\nconst defaultState={\r\n\titems:[],\r\n\tloadingItems:false,\r\n\titem:{},\r\n\tloadingItem:false,\r\n\tdeleteDialogOpen:false,\r\n\tdeleteId:'',\r\n\tsaving:false\r\n}\r\n\r\nexport const reducer=(state=defaultState, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase LOAD_ITEM_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingItem:true\r\n\t\t\t}\r\n\t\tcase LOAD_ITEM_RES:\r\n\t\t\tvar item=action.payload.item;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titem,\r\n\t\t\t\tloadingItem:false\r\n\t\t\t}\r\n\t\tcase LOAD_ITEMS_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingItems:true\r\n\t\t\t}\r\n\t\tcase LOAD_ITEMS_RES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingItems:false,\r\n\t\t\t\titems:action.payload.items\r\n\t\t\t}\r\n\t\tcase SAVE_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsaving:true\r\n\t\t\t}\r\n\t\tcase SAVE_RES:\r\n\t\t\tvar item=action.payload.item;\r\n\t\t\tvar match=false;\r\n\t\t\tvar items=state.items.map((r,i)=>{\r\n\t\t\t\tif(r && r._id === item._id){\r\n\t\t\t\t\tmatch=true;\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn r;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(!match){\r\n\t\t\t\titems.push(item);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titems,\r\n\t\t\t\tsaving:false\r\n\t\t\t}\r\n\t\tcase SHOW_DELETE_DIALOG:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteDialogOpen:true,\r\n\t\t\t\tdeleteId:action.payload.deleteId\r\n\t\t\t}\r\n\t\tcase CLOSE_DELETE_DIALOG:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteDialogOpen:false\r\n\t\t\t}\r\n\t\tcase DELETE_RES:\r\n\t\t\tvar item=action.payload.item;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default defineModule('Categories','/categories', Router, reducer);","import React from 'react';\r\nimport {Route} from 'react-router-dom';\r\n\r\nimport List from './List';\r\nimport Form from './Form';\r\n\r\nconst Router=(props)=>{\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<Route exact path={props.match.path} component={List} />\r\n\t\t\t<Route exact path={props.match.path+'/edit/:itemId'} component={Form} />\r\n\t\t\t<Route exact path={props.match.path+'/add'} component={Form} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Router;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link, Redirect} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport {\r\n\tButton,\r\n\tLinearProgress,\r\n\tCircularProgress\r\n} from '@material-ui/core';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\n\r\nimport Title from '../components/Title';\r\nimport {\r\n\tLOAD_ITEM_REQ, \r\n\tLOAD_ITEM_RES, \r\n\tSAVE_REQ, \r\n\tSAVE_RES\r\n} from './index';\r\nimport {\r\n\tLOAD_ITEMS_REQ as LOAD_CATEGORIES_REQ, \r\n\tLOAD_ITEMS_RES as LOAD_CATEGORIES_RES\r\n} from '../Category';\r\nimport {SET_TITLE} from '../index';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  \tcontainer: {\r\n    \tpaddingTop: theme.spacing(4),\r\n    \tpaddingBottom: theme.spacing(4),\r\n  \t},\r\n  \tpaper: {\r\n\t    padding: theme.spacing(2),\r\n\t    display: 'flex',\r\n\t    overflow: 'auto',\r\n\t    flexDirection: 'column',\r\n  \t},\r\n  \ttextField: {\r\n      \twidth: '100%'\r\n    },\r\n    themesSelect:{\r\n    \twidth:'100%'\r\n    },\r\n    button:{\r\n    \tfloat:'right'\r\n    }\r\n}));\r\n\r\nexport function FormCard({item, match, categories, update, action, saving}) {\r\n  \tconst classes = useStyles();\r\n  \tconst [redirect, setRedirect]=React.useState('');\r\n\r\n  \tconst submitHandler=e=>{\r\n  \t\tvar inputs=e.target.elements;\r\n  \t\tvar data={\r\n  \t\t\tname:inputs.name.value,\r\n  \t\t\tprice:inputs.price.value,\r\n  \t\t\tcategory:inputs.category.value\r\n  \t\t}\r\n  \t\tif(action==='edit'){\r\n  \t\t\tdata.id=match.params.itemId;\t\r\n  \t\t}\r\n\r\n  \t\tupdate(data).then((json)=>{\r\n  \t\t\tif(json.result==='success'){\r\n  \t\t\t\tsetRedirect('/admin/products');\r\n  \t\t\t}\r\n  \t\t});\r\n  \t\t\r\n  \t\te.preventDefault();\r\n  \t}\r\n\r\n  \tif(redirect){\r\n  \t\tconsole.log('redirecting',redirect);\r\n  \t\treturn(\r\n  \t\t\t<Redirect to={redirect} />\r\n  \t\t);\r\n  \t}\r\n\r\n  \treturn (\r\n\t    <Container maxWidth=\"lg\" className={classes.container}>\r\n\t      \t<Grid container spacing={3}>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<Link to={'/admin/products'}><Button variant='contained' color='primary'><ChevronLeft /> Back to list</Button></Link>\r\n\t      \t\t</Grid>\r\n\t        \t<Grid item xs={12}>\r\n\t          \t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t    <form onSubmit={submitHandler}>\r\n\t\t\t\t\t    \t<Grid container spacing={3} >\r\n\t\t\t\t\t\t    \t<Grid item sm={6}>\r\n\t\t\t\t\t\t\t    \t<TextField\r\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\r\n\t\t\t\t\t    \t          \tclassName={classes.textField}\r\n\t\t\t\t\t    \t          \tlabel={\"Name\"}\r\n\t\t\t\t\t    \t         \tmargin=\"normal\"\r\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\r\n\t\t\t\t\t    \t          \tname='name'\r\n\t\t\t\t\t    \t          \tdefaultValue={item.name}\r\n\t\t\t\t\t    \t          \trequired\r\n\t\t\t\t\t    \t        />\r\n\t\t\t\t\t    \t    </Grid>\r\n\t\t\t\t\t    \t    <Grid item sm={6}>\r\n\t    \t        \t\t    \t<SelectMenu options={categories} value={item.category ? item.category._id : ''} />\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t    \t            \t    \t<TextField\r\n\t    \t            \t          \tid=\"outlined-basic\"\r\n\t    \t            \t          \tclassName={classes.textField}\r\n\t    \t            \t          \tlabel={\"Price\"}\r\n\t    \t            \t         \tmargin={\"normal\"}\r\n\t    \t            \t          \tvariant={\"outlined\"}\r\n\t    \t            \t          \tname={'price'}\r\n\t    \t            \t          \tdefaultValue={item.price}\r\n\t    \t            \t        />\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t\t    \t            \t    <Button type='submit' variant=\"contained\" color=\"primary\" className={classes.button} disabled={saving}>\r\n\t\t    \t            \t        {saving ? <CircularProgress size={'1rem'} /> : 'Save'}\r\n\t\t    \t            \t    </Button>\r\n\t\t    \t            \t</Grid>\r\n\t    \t            \t</Grid>\r\n\t\t\t\t    \t</form>\r\n\t           \t\t</Paper>\r\n\t         \t</Grid>\r\n\t       \t</Grid>\r\n\t    </Container>\r\n  \t);\r\n}\r\n\r\nconst SelectMenu=props=>{\r\n\tconst [option, setOption] = React.useState(props.value);\r\n\tconst classes = useStyles();\r\n\tconst inputLabel = React.useRef(null);\r\n\tconst [labelWidth, setLabelWidth] = React.useState(0);\r\n\r\n\tReact.useEffect(() => {\r\n\t    setLabelWidth(inputLabel.current.offsetWidth);\r\n\t}, []);\r\n\r\n\tconst handleChange = event => {\r\n\t   \tsetOption(event.target.value);\r\n\t};\r\n\r\n\tconst menuItems=props.options.map((th,i)=>{\r\n\t\treturn(\r\n\t\t\t<MenuItem key={i} value={th._id}>{th.name}</MenuItem>\r\n\t\t)\r\n\t});\r\n\r\n\treturn(\r\n    \t<FormControl variant=\"outlined\" margin=\"normal\" className={classes.themesSelect}>\r\n    \t    <InputLabel ref={inputLabel} id={\"demo-simple-select-outlined-label\"}>\r\n    \t        Category\r\n    \t    </InputLabel>\r\n    \t    <Select\r\n\t          \tlabelId=\"demo-simple-select-outlined-label\"\r\n\t          \tid=\"demo-simple-select-outlined\"\r\n\t          \tname={'category'}\r\n\t          \tvalue={option}\r\n\t          \tonChange={handleChange}\r\n\t          \tlabelWidth={labelWidth}\r\n    \t    >\r\n    \t        {menuItems}\r\n    \t    </Select>\r\n    \t</FormControl>\r\n\t)\r\n}\r\n\r\nclass Form extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\taction:this.props.match.params.itemId ? 'edit' : 'add'\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {loadItem, match, setTitle, loadCategories, categories}=this.props;\r\n\t\tif(match.params.itemId){\r\n\t\t\tsetTitle('Edit product');\r\n\t\t\tloadItem(match.params.itemId);\r\n\t\t}else{\r\n\t\t\tsetTitle('Add product');\r\n\t\t}\r\n\t\t\r\n\t\tif(!categories.length){\r\n\t\t\tloadCategories();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Edit item',this.props);\r\n\t\tconst {match, item, update, loadingItem, saving, categories}=this.props;\r\n\t\tconst {action}=this.state;\r\n\t\tif(!loadingItem){\r\n\t\t\treturn(\r\n\t\t\t\t<FormCard action={action} item={action=='edit'?item:{}} match={match} categories={categories} update={update} saving={saving}/>\r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t\t\t\t<LinearProgress />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Product;\r\n\tconst c=state.Admin.Category;\r\n\treturn {\r\n\t\titems:s.items,\r\n\t\titem:s.item,\r\n\t\tloadingItem:s.loadingItem,\r\n\t\tsaving:s.saving,\r\n\t\tcategories:c.items\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItem:(itemId)=>{\r\n\t\t\tdispatch({type:LOAD_ITEM_REQ});\r\n\t\t\treturn fetch('/api/product/get?id='+itemId).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEM_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem:json\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetTitle:(title)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SET_TITLE,\r\n\t\t\t\tpayload:title\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdate:(data)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SAVE_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/product/store',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(data),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SAVE_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem:json.data,\r\n\t\t\t\t\t\tresult:json.result\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn json;\r\n\t\t\t});\r\n\t\t},\r\n\t\tloadCategories:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_CATEGORIES_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/category/get').then((res)=>res.ok?res.json():[]).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_CATEGORIES_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Form);\r\n\r\nexport default ListContainer;","import Router from './Router';\r\nimport {defineModule} from '../../functions';\r\n\r\nconst actionPrefix='Admin/Product/';\r\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\r\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\r\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\r\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\r\nexport const SAVE_REQ=actionPrefix+'SaveReq';\r\nexport const SAVE_RES=actionPrefix+'SaveRes';\r\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\r\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\r\nexport const DELETE_RES=actionPrefix+'DeleteRes';\r\n\r\nconst defaultState={\r\n\titems:[],\r\n\tloadingItems:false,\r\n\tshouldLoadItems:true,\r\n\titem:{},\r\n\tloadingItem:false,\r\n\tdeleteDialogOpen:false,\r\n\tdeleteId:'',\r\n\tsaving:false\r\n}\r\n\r\nexport const reducer=(state=defaultState, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase LOAD_ITEM_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingItem:true\r\n\t\t\t}\r\n\t\tcase LOAD_ITEM_RES:\r\n\t\t\tvar item=action.payload.item;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titem,\r\n\t\t\t\tloadingItem:false\r\n\t\t\t}\r\n\t\tcase LOAD_ITEMS_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingItems:true\r\n\t\t\t}\r\n\t\tcase LOAD_ITEMS_RES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingItems:false,\r\n\t\t\t\tshouldLoadItems:false,\r\n\t\t\t\titems:action.payload.items\r\n\t\t\t}\r\n\t\tcase SAVE_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsaving:true\r\n\t\t\t}\r\n\t\tcase SAVE_RES:\r\n\t\t\tvar item=action.payload.item;\r\n\t\t\tvar match=false;\r\n\t\t\tvar items=state.items.map((r,i)=>{\r\n\t\t\t\tif(r && r._id === item._id){\r\n\t\t\t\t\tmatch=true;\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn r;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(!match){\r\n\t\t\t\titems.push(item);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titems,\r\n\t\t\t\tsaving:false\r\n\t\t\t}\r\n\t\tcase SHOW_DELETE_DIALOG:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteDialogOpen:true,\r\n\t\t\t\tdeleteId:action.payload.deleteId\r\n\t\t\t}\r\n\t\tcase CLOSE_DELETE_DIALOG:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteDialogOpen:false\r\n\t\t\t}\r\n\t\tcase DELETE_RES:\r\n\t\t\tvar item=action.payload.item;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default defineModule('Products','/products', Router, reducer);","import React from 'react';\r\nimport {Route} from 'react-router-dom';\r\n\r\nimport List from './List';\r\nimport Form from './Form';\r\n\r\nconst Router=(props)=>{\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<Route exact path={props.match.path} component={List} />\r\n\t\t\t<Route exact path={props.match.path+'/edit/:itemId'} component={Form} />\r\n\t\t\t<Route exact path={props.match.path+'/add'} component={Form} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Router;","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport {\r\n  Layers as LayersIcon,\r\n  ExitToApp as LogOutIcon\r\n} from '@material-ui/icons';\r\n\r\nimport {LOG_OUT} from './index';\r\n\r\nfunction Copyright() {\r\n  return(\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" to=\"/\">\r\n        RJ\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport const MainListItems = ({items, accessRights})=>{\r\n  items=items.map((menuItem, i)=>{\r\n    if((accessRights && accessRights.length && accessRights.indexOf(menuItem.accessRightTitle)>=0) || !menuItem.accessRightTitle){\r\n      let Icon=menuItem.icon;\r\n      return(\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <Icon />\r\n          </ListItemIcon>\r\n          <Link to={menuItem.link}>\r\n            <ListItemText primary={menuItem.text} />\r\n          </Link>\r\n        </ListItem>\r\n      )\r\n    }else{\r\n      return\r\n    }\r\n  });\r\n  return(\r\n    <div>\r\n      {items}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AdminLayout(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography component=\"h1\" variant=\"h4\" color=\"inherit\" noWrap className={classes.title}>\r\n            {props.title}\r\n          </Typography>\r\n          <IconButton color=\"inherit\">\r\n            <Badge badgeContent={0} color={\"secondary\"}>\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton>\r\n          <IconButton color=\"inherit\" title=\"Log out\" onClick={(e)=>{props.logOut().then(()=>{props.history.goBack()})}}>\r\n              <LogOutIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          <MainListItems items={props.menuItems} accessRights={props.rights}/>\r\n        </List>\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        {props.children}\r\n        <Copyright />\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Dashboard.propTypes={\r\n// \tname:PropTypes.string\r\n// }\r\n\r\nconst mapStateToProps=(state)=>{\r\n\treturn {\r\n    title:state.Admin.title,\r\n    menuItems:state.Admin.menuItems,\r\n    rights:state.Admin.user.rights\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n    logOut:()=>{\r\n      dispatch({\r\n        type:LOG_OUT\r\n      });\r\n      return fetch('/api/user/logout').then((res)=>{\r\n        console.log('logged out');\r\n        return '';\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nconst LayoutContainer=connect(mapStateToProps, mapDispatchToProps)(AdminLayout);\r\n\r\nexport default LayoutContainer;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport {SIGN_IN_REQ, SIGN_IN_RES} from './index';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        RJ\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nclass Login extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\temail:'',\r\n\t\t\tpassword:''\r\n\t\t}\r\n\t}\r\n\tchangeHandler=(name,value)=>{\r\n\t\tthis.setState({[name]:value});\r\n\t}\r\n\tsubmitHandler=()=>{\r\n\t\tthis.props.signIn(this.state.email,this.state.password);\r\n\t}\r\n\trender(){\r\n\t\tconst {signIn,user,match}=this.props;\r\n\t\tconst {email,password}=this.state;\r\n\r\n\t\tif(user && user.loggedIn){\r\n\t\t\tlet redirectUrl=window.localStorage.getItem('lastVisitedPath');\r\n\t\t\treturn(\r\n\t\t\t\t<Redirect to={redirectUrl ? redirectUrl : '/admin'} />\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t  <Container component=\"main\" maxWidth=\"xs\">\r\n\t\t    <CssBaseline />\r\n\t\t    <LoginForm changeHandler={this.changeHandler} submitHandler={this.submitHandler} failed={user.loginFailed} />\r\n\t\t    <Box mt={8}>\r\n\t\t      <Copyright />\r\n\t\t    </Box>\r\n\t\t  </Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst LoginForm=({changeHandler,submitHandler, failed})=>{\r\n\tconst classes = useStyles();\r\n\treturn(\r\n\t\t<div className={classes.paper}>\r\n\t\t  \t<Avatar className={classes.avatar}>\r\n\t\t    \t<LockOutlinedIcon />\r\n\t\t  \t</Avatar>\r\n\t\t  \t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t    \tSign in\r\n\t\t  \t</Typography>\r\n\t\t  \t<form className={classes.form} onSubmit={(e)=>{e.preventDefault(); submitHandler(); }}>\r\n\t\t\t    <TextField\r\n\t\t\t    \terror={failed}\r\n\t\t\t      \tvariant=\"outlined\"\r\n\t\t\t      \tmargin=\"normal\"\r\n\t\t\t      \trequired\r\n\t\t\t      \tfullWidth\r\n\t\t\t      \tid=\"email\"\r\n\t\t\t      \tlabel=\"Email Address\"\r\n\t\t\t      \tname=\"username\"\r\n\t\t\t      \tautoComplete=\"off\"\r\n\t\t\t      \tautoFocus\r\n\t\t\t      \tonChange={(e)=>changeHandler('email',e.target.value)}\r\n\t\t\t    />\r\n\t\t\t    <TextField\r\n\t\t\t    \terror={failed}\r\n\t\t\t      \tvariant=\"outlined\"\r\n\t\t\t      \tmargin=\"normal\"\r\n\t\t\t      \trequired\r\n\t\t\t      \tfullWidth\r\n\t\t\t      \tname=\"password\"\r\n\t\t\t      \tlabel=\"Password\"\r\n\t\t\t      \ttype=\"password\"\r\n\t\t\t      \tid=\"password\"\r\n\t\t\t      \tautoComplete=\"off\"\r\n\t\t\t      \tonChange={(e)=>changeHandler('password',e.target.value)}\r\n\t\t\t    />\r\n\t\t\t    <FormControlLabel\r\n\t\t\t      control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n\t\t\t      label={\"Remember me\"}\r\n\t\t\t    />\r\n\t\t\t    <Button\r\n\t\t\t      type=\"submit\"\r\n\t\t\t      fullWidth\r\n\t\t\t      variant=\"contained\"\r\n\t\t\t      color=\"primary\"\r\n\t\t\t      className={classes.submit}\r\n\t\t\t    >\r\n\t\t\t      Sign In\r\n\t\t\t    </Button>\r\n\t\t\t    <Grid container>\r\n\t\t\t      <Grid item xs>\r\n\t\t\t        <Link href=\"#\" variant=\"body2\">\r\n\t\t\t          Forgot password?\r\n\t\t\t        </Link>\r\n\t\t\t      </Grid>\r\n\t\t\t      <Grid item>\r\n\t\t\t        <Link href=\"#\" variant=\"body2\">\r\n\t\t\t          {\"Don't have an account? Sign Up\"}\r\n\t\t\t        </Link>\r\n\t\t\t      </Grid>\r\n\t\t\t    </Grid>\r\n\t\t  \t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps=state=>{\r\n\treturn {\r\n\t\tuser:state.Admin.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=dispatch=>{\r\n\treturn {\r\n\t\tsignIn:(username,password)=>{\r\n\t\t\tconsole.log('signing in',username+password);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SIGN_IN_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/admin/login',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify({username,password}),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SIGN_IN_RES,\r\n\t\t\t\t\tpayload:json.user\r\n\t\t\t\t});\r\n\t\t\t\tif(json.result==='success'){\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst LoginContainer=connect(mapStateToProps, mapDispatchToProps)(Login);\r\n\r\nexport default LoginContainer;","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport {SIGN_IN_REQ, SIGN_IN_RES} from './index.js';\r\n\r\nexport default function withAuth(ComponentToProtect, protectedModule='') {\r\n  class ProtectedComponent extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        redirect: false,\r\n        loading:true,\r\n        hasAccessRight:true\r\n      };\r\n    }\r\n    componentDidMount() {\r\n      console.log('withAuth mounted');\r\n      this.props.getActiveUser().then((user)=>{\r\n        var hasAccessRight=true;\r\n        var redirect=false;\r\n\r\n        if(user && user._id){\r\n          if(protectedModule && !(user.rights.indexOf(protectedModule)>=0)){\r\n            hasAccessRight=false\r\n          }\r\n        }else{\r\n          redirect=true;\r\n        }\r\n\r\n        this.setState({\r\n          redirect,\r\n          loading:false,\r\n          hasAccessRight\r\n        });\r\n\r\n        // checking access right of a user for protected component\r\n      });\r\n    }\r\n    render() {\r\n      console.log('withAuth',protectedModule);\r\n      const {redirect, loading, hasAccessRight} = this.state;\r\n      const props=this.props;\r\n\r\n      if(loading){\r\n        return <LinearProgress />;\r\n      }\r\n\r\n      if(!hasAccessRight){\r\n        console.log('has no access right',props.user.rights);\r\n        console.log(props.user.rights.indexOf(protectedModule));\r\n        props.history.goBack();\r\n      }\r\n\r\n      if (!props.user.loggedIn && redirect) {\r\n        window.localStorage.setItem('lastVisitedPath',this.props.location.pathname);\r\n        console.log('redirecting', props.match.path+\"/login\");\r\n        return <Redirect to={'/admin/login'} />;\r\n      }\r\n\r\n      return (\r\n        <React.Fragment>\r\n          <ComponentToProtect {...this.props} />\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }\r\n\r\n  const mapStateToProps=state=>{\r\n    return {\r\n      user:state.Admin.user\r\n    }\r\n  }\r\n\r\n  const mapDispatchToProps=dispatch=>{\r\n    return{\r\n      getActiveUser:()=>{\r\n        dispatch({type:SIGN_IN_REQ});\r\n        return fetch('/api/user/active').then((res)=>res.ok?res.json():{}).then((json)=>{\r\n          dispatch({\r\n            type:SIGN_IN_RES,\r\n            payload:json ? json.user : {}\r\n          });\r\n          return json.user;\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(ProtectedComponent)\r\n}","import { colors } from '@material-ui/core';\n\nconst white = '#FFFFFF';\nconst black = '#000000';\n\nexport default {\n  black,\n  white,\n  primary: {\n    contrastText: white,\n    dark: colors.indigo[900],\n    main: colors.indigo[500],\n    light: colors.indigo[100]\n  },\n  secondary: {\n    contrastText: white,\n    dark: colors.blue[900],\n    main: colors.blue['A400'],\n    light: colors.blue['A400']\n  },\n  success: {\n    contrastText: white,\n    dark: colors.green[900],\n    main: colors.green[600],\n    light: colors.green[400]\n  },\n  info: {\n    contrastText: white,\n    dark: colors.blue[900],\n    main: colors.blue[600],\n    light: colors.blue[400]\n  },\n  warning: {\n    contrastText: white,\n    dark: colors.orange[900],\n    main: colors.orange[600],\n    light: colors.orange[400]\n  },\n  error: {\n    contrastText: white,\n    dark: colors.red[900],\n    main: colors.red[600],\n    light: colors.red[400]\n  },\n  text: {\n    primary: colors.blueGrey[900],\n    secondary: colors.blueGrey[600],\n    link: colors.blue[600]\n  },\n  background: {\n    default: '#F4F6F8',\n    paper: white\n  },\n  icon: colors.blueGrey[600],\n  divider: colors.grey[200]\n};\n","import palette from './palette';\n\nexport default {\n  h1: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '35px',\n    letterSpacing: '-0.24px',\n    lineHeight: '40px'\n  },\n  h2: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '29px',\n    letterSpacing: '-0.24px',\n    lineHeight: '32px'\n  },\n  h3: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '24px',\n    letterSpacing: '-0.06px',\n    lineHeight: '28px'\n  },\n  h4: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '20px',\n    letterSpacing: '-0.06px',\n    lineHeight: '24px'\n  },\n  h5: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '16px',\n    letterSpacing: '-0.05px',\n    lineHeight: '20px'\n  },\n  h6: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '14px',\n    letterSpacing: '-0.05px',\n    lineHeight: '20px'\n  },\n  subtitle1: {\n    color: palette.text.primary,\n    fontSize: '16px',\n    letterSpacing: '-0.05px',\n    lineHeight: '25px'\n  },\n  subtitle2: {\n    color: palette.text.secondary,\n    fontWeight: 400,\n    fontSize: '14px',\n    letterSpacing: '-0.05px',\n    lineHeight: '21px'\n  },\n  body1: {\n    color: palette.text.primary,\n    fontSize: '15px',\n    letterSpacing: '-0.05px',\n    lineHeight: '21px'\n  },\n  body2: {\n    color: palette.text.secondary,\n    fontSize: '13px',\n    letterSpacing: '-0.04px',\n    lineHeight: '18px'\n  },\n  button: {\n    color: palette.text.primary,\n    fontSize: '14px'\n  },\n  caption: {\n    color: palette.text.secondary,\n    fontSize: '11px',\n    letterSpacing: '0.33px',\n    lineHeight: '13px'\n  },\n  overline: {\n    color: palette.text.secondary,\n    fontSize: '11px',\n    fontWeight: 500,\n    letterSpacing: '0.33px',\n    lineHeight: '13px',\n    textTransform: 'uppercase'\n  }\n};\n","import palette from '../palette';\nimport typography from '../typography';\n\nexport default {\n  root: {\n    ...typography.body1,\n    borderBottom: `1px solid ${palette.divider}`\n  }\n};\n","import MuiButton from './MuiButton';\nimport MuiIconButton from './MuiIconButton';\nimport MuiPaper from './MuiPaper';\nimport MuiTableCell from './MuiTableCell';\nimport MuiTableHead from './MuiTableHead';\nimport MuiTypography from './MuiTypography';\n\nexport default {\n  MuiButton,\n  MuiIconButton,\n  MuiPaper,\n  MuiTableCell,\n  MuiTableHead,\n  MuiTypography\n};\n","export default {\n  contained: {\n    boxShadow:\n      '0 1px 1px 0 rgba(0,0,0,0.14), 0 2px 1px -1px rgba(0,0,0,0.12), 0 1px 3px 0 rgba(0,0,0,0.20)',\n    backgroundColor: '#FFFFFF'\n  }\n};\n","import palette from '../palette';\n\nexport default {\n  root: {\n    color: palette.icon,\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, 0.03)'\n    }\n  }\n};\n","export default {\n  elevation1: {\n    boxShadow: '0 0 0 1px rgba(63,63,68,0.05), 0 1px 3px 0 rgba(63,63,68,0.15)'\n  }\n};\n","import { colors } from '@material-ui/core';\n\nexport default {\n  root: {\n    backgroundColor: colors.grey[50]\n  }\n};\n","export default {\n  gutterBottom: {\n    marginBottom: 8\n  }\n};\n","import { createMuiTheme } from '@material-ui/core';\n\nimport palette from './palette';\nimport typography from './typography';\nimport overrides from './overrides';\n\nconst theme = createMuiTheme({\n  palette,\n  typography,\n  overrides,\n  zIndex: {\n    appBar: 1200,\n    drawer: 1100\n  }\n});\n\nexport default theme;\n","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\n\r\nimport Layout from './Layout';\r\nimport Login from './Login';\r\nimport withAuth from './withAuth';\r\nimport theme from './theme';\r\n\r\nclass Admin extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\trender(){\r\n\t\tconst props=this.props;\r\n\t\tconsole.log('Admin',props);\r\n\r\n\t    if(props.location.pathname!==(props.match.path+'/login')){\r\n    \t\tconst routes=props.routes.map((route,index) => {\r\n    \t\t\treturn(\r\n    \t        \t<Route exact={route.path===props.match.path+'/'} path={route.path} key={route.path} component={withAuth(route.component, route.title)} title={route.title} />\r\n    \t        );\r\n    \t    });\r\n\r\n\t    \tvar layout=(\r\n\t    \t\t<Layout {...props} >\r\n\t\t\t\t\t{routes}\r\n\t\t\t\t</Layout>\r\n\t    \t);\r\n\t    }else{\r\n\t    \tlayout='';\r\n\t    }\r\n\r\n\t\treturn(\r\n\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t<Route exact path={props.match.path+'/login'} component={Login} />\r\n\t\t\t\t{layout}\r\n\t\t\t</ThemeProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Admin;","import {\r\n\tHome as HomeIcon,\r\n\tDashboard as DashboardIcon,\r\n\tAssignment as AssignmentIcon\r\n} from '@material-ui/icons';\r\n\r\nimport Request, {reducer as requestReducer} from './Request';\r\nimport Dashboard, {reducer as dashboardReducer} from './Dashboard';\r\nimport Product, {reducer as productReducer} from './Product';\r\nimport Category, {reducer as categoryReducer} from './Category';\r\n\r\nimport Admin from './Admin';\r\nimport {defineModule} from '../functions';\r\n\r\nexport const SIGN_IN_REQ='Admin/SignInReq';\r\nexport const SIGN_IN_RES='Admin/SignInRes';\r\nexport const SET_TITLE='Admin/SetTitle';\r\nexport const LOG_OUT='Admin/LogOut';\r\n\r\nconst route='/admin';\r\n\r\nconst defaultState={\r\n\ttitle:'Dashboard',\r\n\tmenuItems:[{\r\n\t\ttext:'Dashboard',\r\n\t\taccessRightTitle:'Dashboard',\r\n\t\tlink:route,\r\n\t\ticon:DashboardIcon\r\n\t},{\r\n\t\ttext:'Employees',\r\n\t\taccessRightTitle:'Employees',\r\n\t\tlink:route+'/employees',\r\n\t\ticon:AssignmentIcon\r\n\t},{\r\n\t\ttext:'Products',\r\n\t\taccessRightTitle:'Products',\r\n\t\tlink:route+'/products',\r\n\t\ticon:AssignmentIcon\r\n\t},{\r\n\t\ttext:'Categories',\r\n\t\taccessRightTitle:'Categories',\r\n\t\tlink:route+'/categories',\r\n\t\ticon:AssignmentIcon\r\n\t}]\r\n};\r\n\r\nconst defaultUserState={\r\n\tloggedIn:false, \r\n\tauthenticating:false\r\n}\r\n\r\nconst userReducer=(state=defaultUserState,action)=>{\r\n\tswitch(action.type){\r\n\t\tcase SIGN_IN_REQ:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tauthenticating:true\r\n\t\t\t}\r\n\t\tcase SIGN_IN_RES:\r\n\t\t\tvar p=action.payload;\r\n\t\t\tif(p && p.username){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\t...action.payload,\r\n\t\t\t\t\tloggedIn:true,\r\n\t\t\t\t\tauthenticating:false\r\n\t\t\t\t};\r\n\t\t\t}else{\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tloginFailed:true,\r\n\t\t\t\t\tauthenticating:false,\r\n\t\t\t\t\tloggedIn:false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase LOG_OUT:\r\n\t\t\treturn defaultUserState\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const reducer=(state=defaultState, action)=>{\r\n\treturn {\r\n\t\t...defaultState,\r\n\t\tDashboard:dashboardReducer(state.Dashboard, action),\r\n\t\tRequest:requestReducer(state.Request, action),\r\n\t\tProduct:productReducer(state.Product, action),\r\n\t\tCategory:categoryReducer(state.Category, action),\r\n\t\tuser:userReducer(state.user,action),\r\n\t\ttitle:((s,a)=>{\r\n\t\t\tif(a.type===SET_TITLE){\r\n\t\t\t\treturn a.payload;\r\n\t\t\t}else{\r\n\t\t\t\treturn s;\r\n\t\t\t}\r\n\t\t})(state.title, action)\r\n\t}\r\n}\r\n\r\nexport const children={\r\n\tRequest,\r\n\tDashboard,\r\n\tProduct,\r\n\tCategory\r\n}\r\n\r\nexport default defineModule('Admin',route, Admin, reducer, children);","import {createStore,applyMiddleware,combineReducers} from 'redux';\r\nimport {createLogger} from 'redux-logger';\r\nimport modules from './modules';\r\nimport {flatModules} from './modules/functions';\r\n\r\nconst createAppStore = (reducer, ...middleware) => {\r\n  //middleware.push(thunk)\r\n  const store = createStore(\r\n    reducer,\r\n    applyMiddleware(createLogger())\r\n  );\r\n  return store\r\n}\r\n\r\nexport const combineModuleReducers = modules => {\r\n  const reducers = {}\r\n  const flat = flatModules(modules)\r\n  for (let i = 0; i < flat.length; i++) {\r\n    const red = flat[i].reducer\r\n    if (typeof(red) !== 'function') {\r\n      throw new Error('Module ' + i + ' does not define reducer!')\r\n    }\r\n\r\n    reducers[flat[i].MODULE] = red\r\n\r\n    // if(typeof(flat[i].children) === 'object'){\r\n    //   for(let j in flat[i].children){\r\n    //     if(typeof(flat[i].children[j].reducer) !== 'function'){\r\n    //       throw new Error('Module ' + j + ' does not define reducer!')\r\n    //     }\r\n\r\n    //     reducers[j] = flat[i].children[j].reducer\r\n    //   }\r\n    // }\r\n  }\r\n  return reducers\r\n}\r\n\r\nexport default createAppStore(combineReducers(combineModuleReducers(modules)));","import Profile from './Profile';\r\nimport Admin from './Admin';\r\n\r\nexport default {\r\n\tProfile,\r\n\tAdmin\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nconst Home=(props)=>(\r\n\t<Redirect to={'/admin'} />\r\n);\r\n\r\n// Home.propTypes={\r\n// \ttitle:PropTypes.string.isRequired\r\n// }\r\n\r\nexport default Home;","import modules from './modules';\r\nimport {flatModules} from './modules/functions'; \r\nimport store from './store';\r\nimport App from './core/components/App';\r\nimport Home from './core/components/Home';\r\n\r\nconst getRoutes = (modules, store, App, Home, title = '') =>\r\n  [\r\n    {\r\n      path: '/',\r\n      title: title,\r\n      component: App,\r\n\r\n      routes: flatModules(modules)\r\n        .map(x => {\r\n          console.log('x',x);\r\n          if (!x.component) {\r\n            throw new Error('Component for module ' + x + ' is not defined')\r\n          }\r\n\r\n          const route = {\r\n            path: x.path,\r\n            title: x.title,\r\n            component: x.component,\r\n            onEnter: x.onEnter\r\n              ? routeParams => {\r\n                x.onEnter(routeParams, store.dispatch)\r\n              }\r\n              : null\r\n          }\r\n\r\n          if(x.children){\r\n            // if(!x.children.Index || !typeof(x.children.Index.component)){\r\n            //   throw new Error('Component for index route of \"' + x.title + '\" is not defined')\r\n            // }\r\n\r\n            // route.indexRoute = {\r\n            //   component: x.children.Index.component\r\n            // }\r\n\r\n            route.routes = Object.keys(x.children).map(y => {\r\n              const cm = x.children[y]\r\n              if (!cm.component) {\r\n                throw new Error('Component for module ' + x + '/' + y + ' is not defined')\r\n              }\r\n\r\n              return {\r\n                path: x.path + cm.path,\r\n                title: cm.title,\r\n                component: cm.component,\r\n                onEnter: cm.onEnter\r\n                  ? routeParams => {\r\n                    cm.onEnter(routeParams, store.dispatch)\r\n                  }\r\n                  : null\r\n              }\r\n            })\r\n          }\r\n\r\n          return route\r\n        })\r\n    }\r\n  ]\r\n\r\nexport default getRoutes(modules, store, App, Home);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Route} from 'react-router-dom';\r\n\r\nimport Home from './Home';\r\n\r\nconst App=(props)=>{\r\n\tconsole.log('App',props);\r\n\tconst routes=props.routes.map((route,index) => {\r\n\t\tif(route.routes && route.routes.length){\r\n\t\t\treturn(\r\n\t\t\t\t<Route path={route.path} key={route.path} render={(props)=>{\r\n\t\t\t\t\treturn(\t\r\n\t\t\t\t\t\t<route.component {...props} title={route.title} routes={route.routes} />\r\n\t\t\t\t\t);\r\n\t\t\t\t}} />\r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t        \t<Route path={route.path} key={route.path} component={route.component} />\r\n\t        );\r\n\t\t}\r\n\t\t\r\n    });\r\n\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<Route exact path={props.match.path} component={Home} />\r\n\t\t\t{routes}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nApp.propTypes={\r\n\ttitle:PropTypes.string.isRequired\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {AppContainer} from 'react-hot-loader';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\n\nimport Root from './core/containers/Root';\nimport history from './core/history';\nimport store from './store';\nimport routes from './routes';\n\nimport * as serviceWorker from './serviceWorker';\n\nconsole.log('routes',routes);\nconsole.log('store',store);\n\nReactDOM.render(\n\t<AppContainer>\n\t\t<Root\n\t\t\tstore={store}\n\t\t\thistory={history}\n\t\t\troutes={routes} />\n\t</AppContainer>,\n\tdocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}